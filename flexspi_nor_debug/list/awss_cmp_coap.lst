###############################################################################
#
# IAR ANSI C/C++ Compiler V8.32.3.193/W32 for ARM         10/Jun/2019  13:47:59
# Copyright 1999-2019 IAR Systems AB.
#
#    Cpu mode     =  
#    Endian       =  little
#    Source file  =  
#        C:\Development\smart_washing_machine_3080\csdk\eng\dev_bind\impl\awss_cmp_coap.c
#    Command line =  
#        -f C:\Users\nxf42695\AppData\Local\Temp\1\EW8B98.tmp
#        (C:\Development\smart_washing_machine_3080\csdk\eng\dev_bind\impl\awss_cmp_coap.c
#        -D DEBUG -D USE_RTOS -D XIP_EXTERNAL_FLASH=1 -D
#        XIP_BOOT_HEADER_ENABLE=1 -D CPU_MIMXRT1052DVL6B -D FSL_RTOS_FREE_RTOS
#        -D PRINTF_ADVANCED_ENABLE -D
#        "MBEDTLS_CONFIG_FILE=\"ksdk_mbedtls_config.h\"" -lC
#        C:\Development\smart_washing_machine_3080\flexspi_nor_debug\list -lA
#        C:\Development\smart_washing_machine_3080\flexspi_nor_debug\list
#        --diag_suppress Pa082,Pa050 -o
#        C:\Development\smart_washing_machine_3080\flexspi_nor_debug\obj
#        --no_cse --no_unroll --no_inline --no_code_motion --no_tbaa
#        --no_clustering --no_scheduling --debug --endian=little
#        --cpu=Cortex-M7 -e --fpu=VFPv5_d16 --dlib_config "C:\Program Files
#        (x86)\IAR Systems\Embedded Workbench
#        8.2\arm\inc\c\DLib_Config_Normal.h" --preinclude
#        C:\Development\smart_washing_machine_3080/source\app_preinclude.h -I
#        C:\Development\smart_washing_machine_3080/board\ -I
#        C:\Development\smart_washing_machine_3080/source\ -I
#        C:\Development\smart_washing_machine_3080/CMSIS\ -I
#        C:\Development\smart_washing_machine_3080/amazon-freertos/freertos/portable\
#        -I C:\Development\smart_washing_machine_3080/amazon-freertos/include\
#        -I C:\Development\smart_washing_machine_3080/component/lists\ -I
#        C:\Development\smart_washing_machine_3080/component/serial_manager\ -I
#        C:\Development\smart_washing_machine_3080/component/uart\ -I
#        C:\Development\smart_washing_machine_3080/component/kv\ -I
#        C:\Development\smart_washing_machine_3080/component/kv/include\ -I
#        C:\Development\smart_washing_machine_3080/device\ -I
#        C:\Development\smart_washing_machine_3080/doc\ -I
#        C:\Development\smart_washing_machine_3080/drivers\ -I
#        C:\Development\smart_washing_machine_3080/src\ -I
#        C:\Development\smart_washing_machine_3080/startup\ -I
#        C:\Development\smart_washing_machine_3080/utilities\ -I
#        C:\Development\smart_washing_machine_3080/xip\ -I
#        C:\Development\smart_washing_machine_3080\csdk\eng\ -I
#        C:\Development\smart_washing_machine_3080\csdk\eng\atm\ -I
#        C:\Development\smart_washing_machine_3080\csdk\eng\dev_model\ -I
#        C:\Development\smart_washing_machine_3080\csdk\eng\dev_sign\ -I
#        C:\Development\smart_washing_machine_3080\csdk\eng\infra\ -I
#        C:\Development\smart_washing_machine_3080\csdk\eng\mqtt\ -I
#        C:\Development\smart_washing_machine_3080\csdk\eng\wrappers\ -I
#        C:\Development\smart_washing_machine_3080\csdk\eng\wrappers\external_libs\
#        -I C:\Development\smart_washing_machine_3080\csdk\eng\coap_cloud\ -I
#        C:\Development\smart_washing_machine_3080\csdk\eng\coap_server\ -I
#        C:\Development\smart_washing_machine_3080\csdk\eng\coap_server\CoAPPacket\
#        -I
#        C:\Development\smart_washing_machine_3080\csdk\eng\coap_server\server\
#        -I C:\Development\smart_washing_machine_3080\csdk\eng\dev_bind\ -I
#        C:\Development\smart_washing_machine_3080\csdk\eng\dev_bind\impl\ -I
#        C:\Development\smart_washing_machine_3080\csdk\eng\dev_bind\impl\os\
#        -I
#        C:\Development\smart_washing_machine_3080\csdk\eng\dev_bind\impl\awss_reset\
#        -I C:\Development\smart_washing_machine_3080\mbedtls\include\mbedtls\
#        -I C:\Development\smart_washing_machine_3080\mbedtls\include\ -I
#        C:\Development\smart_washing_machine_3080\mbedtls\port\ksdk\ -Om)
#    Locale       =  C
#    List file    =  
#        C:\Development\smart_washing_machine_3080\flexspi_nor_debug\list\awss_cmp_coap.lst
#    Object file  =  
#        C:\Development\smart_washing_machine_3080\flexspi_nor_debug\obj\awss_cmp_coap.o
#
###############################################################################

C:\Development\smart_washing_machine_3080\csdk\eng\dev_bind\impl\awss_cmp_coap.c
      1          /*
      2           * Copyright (C) 2015-2018 Alibaba Group Holding Limited
      3           */
      4          #include "dev_bind_internal.h"

  typedef void *p_HAL_Aes128_t;
                ^
"C:\Development\smart_washing_machine_3080\csdk\eng\dev_bind\impl\os\os.h",49  Warning[Pe301]: 
          typedef name has already been declared (with same type)
      5          #ifdef WIFI_PROVISION_ENABLED
      6          #if defined(AWSS_SUPPORT_ADHA) || defined(AWSS_SUPPORT_AHA)
      7          #include "awss_wifimgr.h"
      8          #endif
      9          #endif
     10          
     11          #if defined(__cplusplus)  /* If this is a C++ compiler, use C linkage */
     12          extern "C" {
     13          #endif
     14          

   \                                 In section .bss, align 4
     15          static void *g_coap_ctx = NULL;
   \                     g_coap_ctx:
   \        0x0                      DS8 4
     16          

   \                                 In section .text, align 2, keep-with-next
     17          int awss_release_coap_ctx(void *session)
     18          {
   \                     awss_release_coap_ctx: (+1)
   \        0x0   0xB510             PUSH     {R4,LR}
   \        0x2   0x0004             MOVS     R4,R0
     19              struct coap_session_ctx_t *ctx = (struct coap_session_ctx_t *)session;
     20              if (ctx == NULL) {
   \        0x4   0xD101             BNE.N    ??awss_release_coap_ctx_0
     21                  return 0;
   \        0x6   0x2000             MOVS     R0,#+0
   \        0x8   0xBD10             POP      {R4,PC}
     22              }
     23          
     24              if (ctx->request) {
   \                     ??awss_release_coap_ctx_0: (+1)
   \        0xA   0x6820             LDR      R0,[R4, #+0]
   \        0xC   0x2800             CMP      R0,#+0
   \        0xE   0xD007             BEQ.N    ??awss_release_coap_ctx_1
     25                  void *payload = ((struct CoAPMessage *)ctx->request)->payload;
   \       0x10   0x6F00             LDR      R0,[R0, #+112]
     26                  if (payload) {
   \       0x12   0x2800             CMP      R0,#+0
   \       0x14   0xD001             BEQ.N    ??awss_release_coap_ctx_2
     27                      HAL_Free(payload);
   \       0x16   0x....'....        BL       HAL_Free
     28                  }
     29                  HAL_Free(ctx->request);
   \                     ??awss_release_coap_ctx_2: (+1)
   \       0x1A   0x6820             LDR      R0,[R4, #+0]
   \       0x1C   0x....'....        BL       HAL_Free
     30              }
     31              if (ctx->remote) {
   \                     ??awss_release_coap_ctx_1: (+1)
   \       0x20   0x6860             LDR      R0,[R4, #+4]
   \       0x22   0x2800             CMP      R0,#+0
   \       0x24   0xD001             BEQ.N    ??awss_release_coap_ctx_3
     32                  HAL_Free(ctx->remote);
   \       0x26   0x....'....        BL       HAL_Free
     33              }
     34              HAL_Free(ctx);
   \                     ??awss_release_coap_ctx_3: (+1)
   \       0x2A   0x4620             MOV      R0,R4
   \       0x2C   0x....'....        BL       HAL_Free
     35              return 0;
   \       0x30   0x2000             MOVS     R0,#+0
   \       0x32   0xBD10             POP      {R4,PC}          ;; return
     36          }
     37          

   \                                 In section .text, align 2, keep-with-next
     38          void *awss_cpy_coap_ctx(void *request, void *remote, char mcast)
     39          {
   \                     awss_cpy_coap_ctx: (+1)
   \        0x0   0xE92D 0x41FC      PUSH     {R2-R8,LR}
   \        0x4   0x4605             MOV      R5,R0
   \        0x6   0x460E             MOV      R6,R1
   \        0x8   0x4617             MOV      R7,R2
     40              struct coap_session_ctx_t *ctx = os_zalloc(sizeof(struct coap_session_ctx_t));
   \        0xA   0x200C             MOVS     R0,#+12
   \        0xC   0x....'....        BL       os_zalloc
   \       0x10   0x0004             MOVS     R4,R0
     41              if (ctx == NULL) {
   \       0x12   0xD02F             BEQ.N    ??awss_cpy_coap_ctx_0
     42                  goto CPY_CTX_FAIL;
     43              }
     44              ctx->request = os_zalloc(sizeof(struct CoAPMessage));
   \       0x14   0x2084             MOVS     R0,#+132
   \       0x16   0x....'....        BL       os_zalloc
   \       0x1A   0x6020             STR      R0,[R4, #+0]
     45              if (ctx->request == NULL) {
   \       0x1C   0x2800             CMP      R0,#+0
   \       0x1E   0xD029             BEQ.N    ??awss_cpy_coap_ctx_0
     46                  goto CPY_CTX_FAIL;
     47              }
     48          
     49              memcpy(ctx->request, request, sizeof(struct CoAPMessage));
   \       0x20   0x2284             MOVS     R2,#+132
   \       0x22   0x4629             MOV      R1,R5
   \       0x24   0x....'....        BL       __aeabi_memcpy
     50              do {
     51                  char *payload = NULL;
     52                  int len = 0;
   \       0x28   0x2000             MOVS     R0,#+0
   \       0x2A   0x9000             STR      R0,[SP, #+0]
     53                  struct CoAPMessage *req = (struct CoAPMessage *)ctx->request;
   \       0x2C   0xF8D4 0x8000      LDR      R8,[R4, #+0]
     54          
     55                  payload = awss_cmp_get_coap_payload(request, &len);
   \       0x30   0x4669             MOV      R1,SP
   \       0x32   0x4628             MOV      R0,R5
   \       0x34   0x....'....        BL       awss_cmp_get_coap_payload
   \       0x38   0x0005             MOVS     R5,R0
     56                  req->payloadlen = len;
   \       0x3A   0x9800             LDR      R0,[SP, #+0]
   \       0x3C   0xF8A8 0x006E      STRH     R0,[R8, #+110]
     57                  if (payload == NULL) {
   \       0x40   0xD00B             BEQ.N    ??awss_cpy_coap_ctx_1
     58                      break;
     59                  }
     60          
     61                  req->payload = os_zalloc(len + 1);
   \       0x42   0x9800             LDR      R0,[SP, #+0]
   \       0x44   0x1C40             ADDS     R0,R0,#+1
   \       0x46   0x....'....        BL       os_zalloc
   \       0x4A   0xF8C8 0x0070      STR      R0,[R8, #+112]
     62                  if (req->payload == NULL) {
   \       0x4E   0x2800             CMP      R0,#+0
   \       0x50   0xD010             BEQ.N    ??awss_cpy_coap_ctx_0
     63                      goto CPY_CTX_FAIL;
     64                  }
     65          
     66                  memcpy(req->payload, payload, len);
   \       0x52   0x9A00             LDR      R2,[SP, #+0]
   \       0x54   0x4629             MOV      R1,R5
   \       0x56   0x....'....        BL       __aeabi_memcpy
     67              } while (0);
     68          
     69              ctx->remote = os_zalloc(sizeof(platform_netaddr_t));
   \                     ??awss_cpy_coap_ctx_1: (+1)
   \       0x5A   0x2012             MOVS     R0,#+18
   \       0x5C   0x....'....        BL       os_zalloc
   \       0x60   0x6060             STR      R0,[R4, #+4]
     70              if (ctx->remote == NULL) {
   \       0x62   0x2800             CMP      R0,#+0
   \       0x64   0xD006             BEQ.N    ??awss_cpy_coap_ctx_0
     71                  goto CPY_CTX_FAIL;
     72              }
     73          
     74              memcpy(ctx->remote, remote, sizeof(platform_netaddr_t));
   \       0x66   0x2212             MOVS     R2,#+18
   \       0x68   0x4631             MOV      R1,R6
   \       0x6A   0x....'....        BL       __aeabi_memcpy
     75              ctx->is_mcast = mcast;
   \       0x6E   0x7227             STRB     R7,[R4, #+8]
     76          
     77              return ctx;
   \       0x70   0x4620             MOV      R0,R4
   \       0x72   0xE003             B.N      ??awss_cpy_coap_ctx_2
     78          
     79          CPY_CTX_FAIL:
     80              awss_release_coap_ctx(ctx);
   \                     ??awss_cpy_coap_ctx_0: (+1)
   \       0x74   0x4620             MOV      R0,R4
   \       0x76   0x....'....        BL       awss_release_coap_ctx
     81              return NULL;
   \       0x7A   0x2000             MOVS     R0,#+0
   \                     ??awss_cpy_coap_ctx_2: (+1)
   \       0x7C   0xE8BD 0x81F6      POP      {R1,R2,R4-R8,PC}  ;; return
     82          }
     83          

   \                                 In section .text, align 2, keep-with-next
     84          uint8_t awss_cmp_get_coap_code(void *request)
     85          {
     86              struct CoAPMessage *msg = NULL;
     87              if (request == NULL) {
   \                     awss_cmp_get_coap_code: (+1)
   \        0x0   0x2800             CMP      R0,#+0
   \        0x2   0xD101             BNE.N    ??awss_cmp_get_coap_code_0
     88                  return 0x60;
   \        0x4   0x2060             MOVS     R0,#+96
   \        0x6   0x4770             BX       LR
     89              }
     90              msg = (struct CoAPMessage *)request;
     91              return msg->header.code;
   \                     ??awss_cmp_get_coap_code_0: (+1)
   \        0x8   0x7840             LDRB     R0,[R0, #+1]
   \        0xA   0x4770             BX       LR               ;; return
     92          }
     93          

   \                                 In section .text, align 2, keep-with-next
     94          char *awss_cmp_get_coap_payload(void *request, int *payload_len)
     95          {
     96              struct CoAPMessage *msg = (struct CoAPMessage *)request;
     97              if (request == NULL) {
   \                     awss_cmp_get_coap_payload: (+1)
   \        0x0   0x2800             CMP      R0,#+0
   \        0x2   0xD101             BNE.N    ??awss_cmp_get_coap_payload_0
     98                  return NULL;
   \        0x4   0x2000             MOVS     R0,#+0
   \        0x6   0x4770             BX       LR
     99              }
    100          
    101              msg = (struct CoAPMessage *)request;
    102              if (payload_len) {
   \                     ??awss_cmp_get_coap_payload_0: (+1)
   \        0x8   0x2900             CMP      R1,#+0
   \        0xA   0xD002             BEQ.N    ??awss_cmp_get_coap_payload_1
    103                  *payload_len = msg->payloadlen;
   \        0xC   0xF8B0 0x206E      LDRH     R2,[R0, #+110]
   \       0x10   0x600A             STR      R2,[R1, #+0]
    104              }
    105              return (char *)msg->payload;
   \                     ??awss_cmp_get_coap_payload_1: (+1)
   \       0x12   0x6F00             LDR      R0,[R0, #+112]
   \       0x14   0x4770             BX       LR               ;; return
    106          }
    107          

   \                                 In section .text, align 2, keep-with-next
    108          int awss_cmp_coap_register_cb(char *topic, void *cb)
    109          {
   \                     awss_cmp_coap_register_cb: (+1)
   \        0x0   0xB570             PUSH     {R4-R6,LR}
   \        0x2   0x4604             MOV      R4,R0
   \        0x4   0x460D             MOV      R5,R1
    110              if (g_coap_ctx == NULL) {
   \        0x6   0x....             LDR.N    R6,??DataTable8
   \        0x8   0x6830             LDR      R0,[R6, #+0]
   \        0xA   0x2800             CMP      R0,#+0
   \        0xC   0xD102             BNE.N    ??awss_cmp_coap_register_cb_0
    111                  g_coap_ctx = (void *)CoAPServer_init();
   \        0xE   0x....'....        BL       CoAPServer_init
   \       0x12   0x6030             STR      R0,[R6, #+0]
    112              }
    113          
    114              if (g_coap_ctx == NULL) {
   \                     ??awss_cmp_coap_register_cb_0: (+1)
   \       0x14   0x6830             LDR      R0,[R6, #+0]
   \       0x16   0x2800             CMP      R0,#+0
   \       0x18   0xD102             BNE.N    ??awss_cmp_coap_register_cb_1
    115                  return -1;
   \       0x1A   0xF04F 0x30FF      MOV      R0,#-1
   \       0x1E   0xBD70             POP      {R4-R6,PC}
    116              }
    117              if (topic == NULL) {
   \                     ??awss_cmp_coap_register_cb_1: (+1)
   \       0x20   0x2C00             CMP      R4,#+0
   \       0x22   0xD102             BNE.N    ??awss_cmp_coap_register_cb_2
    118                  return -1;
   \       0x24   0xF04F 0x30FF      MOV      R0,#-1
   \       0x28   0xBD70             POP      {R4-R6,PC}
    119              }
    120          
    121              CoAPServer_register(g_coap_ctx, (const char *)topic, (CoAPRecvMsgHandler)cb);
   \                     ??awss_cmp_coap_register_cb_2: (+1)
   \       0x2A   0x462A             MOV      R2,R5
   \       0x2C   0x4621             MOV      R1,R4
   \       0x2E   0x....'....        BL       CoAPServer_register
    122              return 0;
   \       0x32   0x2000             MOVS     R0,#+0
   \       0x34   0xBD70             POP      {R4-R6,PC}       ;; return
    123          }
    124          

   \                                 In section .text, align 2, keep-with-next
    125          int awss_cmp_coap_cancel_packet(uint16_t msgid)
    126          {
    127              if (g_coap_ctx == NULL) {
   \                     awss_cmp_coap_cancel_packet: (+1)
   \        0x0   0x....             LDR.N    R2,??DataTable8
   \        0x2   0x6811             LDR      R1,[R2, #+0]
   \        0x4   0x2900             CMP      R1,#+0
   \        0x6   0xD102             BNE.N    ??awss_cmp_coap_cancel_packet_0
    128                  return -1;
   \        0x8   0xF04F 0x30FF      MOV      R0,#-1
   \        0xC   0x4770             BX       LR
    129              }
    130              return CoAPMessageId_cancel(g_coap_ctx, msgid);
   \                     ??awss_cmp_coap_cancel_packet_0: (+1)
   \        0xE   0x4601             MOV      R1,R0
   \       0x10   0x6810             LDR      R0,[R2, #+0]
   \       0x12   0x....'....        B.W      CoAPMessageId_cancel
    131          }
    132          

   \                                 In section .text, align 2, keep-with-next
    133          int awss_cmp_coap_send(void *buf, uint32_t len, void *sa, const char *uri, void *cb, uint16_t *msgid)
    134          {
   \                     awss_cmp_coap_send: (+1)
   \        0x0   0xE92D 0x43FE      PUSH     {R1-R9,LR}
   \        0x4   0x4604             MOV      R4,R0
   \        0x6   0x460D             MOV      R5,R1
   \        0x8   0x4616             MOV      R6,R2
   \        0xA   0x461F             MOV      R7,R3
   \        0xC   0xF8DD 0x802C      LDR      R8,[SP, #+44]
    135              if (g_coap_ctx == NULL) {
   \       0x10   0x....'....        LDR.W    R9,??DataTable8
   \       0x14   0xF8D9 0x0000      LDR      R0,[R9, #+0]
   \       0x18   0x2800             CMP      R0,#+0
   \       0x1A   0xD104             BNE.N    ??awss_cmp_coap_send_0
    136                  g_coap_ctx = (void *)CoAPServer_init();
   \       0x1C   0x....'....        BL       CoAPServer_init
   \       0x20   0xF8C9 0x0000      STR      R0,[R9, #+0]
   \       0x24   0xE005             B.N      ??awss_cmp_coap_send_1
    137              } else {
    138                  CoAPMessageId_cancel(g_coap_ctx, *msgid);
   \                     ??awss_cmp_coap_send_0: (+1)
   \       0x26   0xF8B8 0x1000      LDRH     R1,[R8, #+0]
   \       0x2A   0xF8D9 0x0000      LDR      R0,[R9, #+0]
   \       0x2E   0x....'....        BL       CoAPMessageId_cancel
   \                     ??awss_cmp_coap_send_1: (+1)
   \       0x32   0x980A             LDR      R0,[SP, #+40]
    139              }
    140              return CoAPServerMultiCast_send(g_coap_ctx, (NetworkAddr *)sa, uri, (uint8_t *)buf,
    141                                              (uint16_t)len, (CoAPSendMsgHandler)cb, msgid);
   \       0x34   0xF8CD 0x8008      STR      R8,[SP, #+8]
   \       0x38   0x9001             STR      R0,[SP, #+4]
   \       0x3A   0xB2AD             UXTH     R5,R5
   \       0x3C   0x9500             STR      R5,[SP, #+0]
   \       0x3E   0x4623             MOV      R3,R4
   \       0x40   0x463A             MOV      R2,R7
   \       0x42   0x4631             MOV      R1,R6
   \       0x44   0xF8D9 0x0000      LDR      R0,[R9, #+0]
   \       0x48   0x....'....        BL       CoAPServerMultiCast_send
   \       0x4C   0xE8BD 0x83FE      POP      {R1-R9,PC}       ;; return
    142          }
    143          

   \                                 In section .text, align 2, keep-with-next
    144          int awss_cmp_coap_send_resp(void *buf, uint32_t len, void *sa, const char *uri, void *req, void *cb, uint16_t *msgid,
    145                                      char qos)
    146          {
   \                     awss_cmp_coap_send_resp: (+1)
   \        0x0   0xE92D 0x41F8      PUSH     {R3-R8,LR}
   \        0x4   0xB085             SUB      SP,SP,#+20
   \        0x6   0x4604             MOV      R4,R0
   \        0x8   0x460D             MOV      R5,R1
   \        0xA   0x4616             MOV      R6,R2
   \        0xC   0x461F             MOV      R7,R3
    147              if (g_coap_ctx == NULL) {
   \        0xE   0x....'....        LDR.W    R8,??DataTable8
   \       0x12   0xF8D8 0x0000      LDR      R0,[R8, #+0]
   \       0x16   0x2800             CMP      R0,#+0
   \       0x18   0xD103             BNE.N    ??awss_cmp_coap_send_resp_0
    148                  g_coap_ctx = (void *)CoAPServer_init();
   \       0x1A   0x....'....        BL       CoAPServer_init
   \       0x1E   0xF8C8 0x0000      STR      R0,[R8, #+0]
   \                     ??awss_cmp_coap_send_resp_0: (+1)
   \       0x22   0x980F             LDR      R0,[SP, #+60]
   \       0x24   0x9B0E             LDR      R3,[SP, #+56]
   \       0x26   0x9A0D             LDR      R2,[SP, #+52]
   \       0x28   0x990C             LDR      R1,[SP, #+48]
    149              }
    150          
    151              return CoAPServerResp_send(g_coap_ctx, (NetworkAddr *)sa, (uint8_t *)buf, (uint16_t)len, req, uri,
    152                                         (CoAPSendMsgHandler)cb, msgid, qos);
   \       0x2A   0x9004             STR      R0,[SP, #+16]
   \       0x2C   0x9303             STR      R3,[SP, #+12]
   \       0x2E   0x9202             STR      R2,[SP, #+8]
   \       0x30   0x9701             STR      R7,[SP, #+4]
   \       0x32   0x9100             STR      R1,[SP, #+0]
   \       0x34   0x462B             MOV      R3,R5
   \       0x36   0xB29B             UXTH     R3,R3
   \       0x38   0x4622             MOV      R2,R4
   \       0x3A   0x4631             MOV      R1,R6
   \       0x3C   0xF8D8 0x0000      LDR      R0,[R8, #+0]
   \       0x40   0x....'....        BL       CoAPServerResp_send
   \       0x44   0xB006             ADD      SP,SP,#+24
   \       0x46   0xE8BD 0x81F0      POP      {R4-R8,PC}       ;; return
    153          }
    154          

   \                                 In section .text, align 2, keep-with-next
    155          int awss_cmp_coap_ob_send(void *buf, uint32_t len, void *sa, const char *uri, void *cb)
    156          {
   \                     awss_cmp_coap_ob_send: (+1)
   \        0x0   0xB5F8             PUSH     {R3-R7,LR}
   \        0x2   0x4604             MOV      R4,R0
   \        0x4   0x460D             MOV      R5,R1
   \        0x6   0x461E             MOV      R6,R3
    157              if (g_coap_ctx == NULL) {
   \        0x8   0x....             LDR.N    R7,??DataTable8
   \        0xA   0x6838             LDR      R0,[R7, #+0]
   \        0xC   0x2800             CMP      R0,#+0
   \        0xE   0xD102             BNE.N    ??awss_cmp_coap_ob_send_0
    158                  g_coap_ctx = (void *)CoAPServer_init();
   \       0x10   0x....'....        BL       CoAPServer_init
   \       0x14   0x6038             STR      R0,[R7, #+0]
   \                     ??awss_cmp_coap_ob_send_0: (+1)
   \       0x16   0x9806             LDR      R0,[SP, #+24]
    159              }
    160          
    161              return (int )CoAPObsServer_notify(g_coap_ctx, uri, (uint8_t *)buf, (uint16_t)len, (CoAPDataEncrypt )cb);
   \       0x18   0x9000             STR      R0,[SP, #+0]
   \       0x1A   0x462B             MOV      R3,R5
   \       0x1C   0xB29B             UXTH     R3,R3
   \       0x1E   0x4622             MOV      R2,R4
   \       0x20   0x4631             MOV      R1,R6
   \       0x22   0x6838             LDR      R0,[R7, #+0]
   \       0x24   0x....'....        BL       CoAPObsServer_notify
   \       0x28   0xBDF2             POP      {R1,R4-R7,PC}    ;; return
    162          }
    163          

   \                                 In section .text, align 2, keep-with-next
    164          int awss_cmp_coap_deinit()
    165          {
   \                     awss_cmp_coap_deinit: (+1)
   \        0x0   0xB580             PUSH     {R7,LR}
    166              void *coap_ctx = g_coap_ctx;
   \        0x2   0x....             LDR.N    R1,??DataTable8
   \        0x4   0x6808             LDR      R0,[R1, #+0]
    167              g_coap_ctx = NULL;
   \        0x6   0x2200             MOVS     R2,#+0
   \        0x8   0x600A             STR      R2,[R1, #+0]
    168          
    169              if (coap_ctx) {
   \        0xA   0x2800             CMP      R0,#+0
   \        0xC   0xD001             BEQ.N    ??awss_cmp_coap_deinit_0
    170                  CoAPServer_deinit(coap_ctx);
   \        0xE   0x....'....        BL       CoAPServer_deinit
    171              }
    172          
    173              return 0;
   \                     ??awss_cmp_coap_deinit_0: (+1)
   \       0x12   0x2000             MOVS     R0,#+0
   \       0x14   0xBD02             POP      {R1,PC}          ;; return
    174          }
    175          

   \                                 In section .rodata, align 4
    176          const struct awss_cmp_couple awss_local_couple[] = {
   \                     awss_local_couple:
   \        0x0   0x0000'0108        DC32 264, ?_0, online_mcast_get_device_info, 264, ?_1
   \              0x....'....  
   \              0x....'....  
   \              0x0000'0108  
   \              0x....'....  
   \       0x14   0x....'....        DC32 online_ucast_get_device_info
    177          #ifdef WIFI_PROVISION_ENABLED
    178          #if defined(AWSS_SUPPORT_ADHA) || defined(AWSS_SUPPORT_AHA)
    179              {AWSS_LC_INIT_PAP,                       TOPIC_AWSS_SWITCHAP,                 wifimgr_process_switch_ap_request},
    180              {AWSS_LC_INIT_PAP,                       TOPIC_AWSS_WIFILIST,                 wifimgr_process_get_wifilist_request},
    181              {AWSS_LC_INIT_ROUTER | AWSS_LC_INIT_PAP, TOPIC_AWSS_GETDEVICEINFO_MCAST,      wifimgr_process_mcast_get_device_info},
    182              {AWSS_LC_INIT_ROUTER | AWSS_LC_INIT_PAP, TOPIC_AWSS_GETDEVICEINFO_UCAST,      wifimgr_process_ucast_get_device_info},
    183          #endif
    184          #ifdef AWSS_SUPPORT_DEV_AP
    185              {AWSS_LC_INIT_DEV_AP,                    TOPIC_AWSS_DEV_AP_SWITCHAP,          wifimgr_process_dev_ap_switchap_request},
    186          #endif
    187              {AWSS_LC_INIT_SUC,                       TOPIC_AWSS_GET_CONNECTAP_INFO_MCAST, awss_process_mcast_get_connectap_info},
    188              {AWSS_LC_INIT_SUC,                       TOPIC_AWSS_GET_CONNECTAP_INFO_UCAST, awss_process_ucast_get_connectap_info},
    189          #ifndef AWSS_DISABLE_REGISTRAR
    190              {AWSS_LC_INIT_BIND,                      TOPIC_NOTIFY,                        online_dev_bind_monitor},
    191              {AWSS_LC_INIT_BIND,                      TOPIC_AWSS_CONNECTAP_NOTIFY,         online_dev_bind_monitor},
    192          #endif
    193          #endif
    194              {AWSS_LC_INIT_SUC | AWSS_LC_INIT_BIND,  TOPIC_GETDEVICEINFO_MCAST,           (void *)online_mcast_get_device_info},
    195              {AWSS_LC_INIT_SUC | AWSS_LC_INIT_BIND,  TOPIC_GETDEVICEINFO_UCAST,           (void *)online_ucast_get_device_info},
    196          };
    197          

   \                                 In section .text, align 2, keep-with-next
    198          int awss_cmp_local_init(int init_stage)
    199          {
   \                     awss_cmp_local_init: (+1)
   \        0x0   0xB5F8             PUSH     {R3-R7,LR}
   \        0x2   0xB0A0             SUB      SP,SP,#+128
   \        0x4   0x4604             MOV      R4,R0
    200              char topic[TOPIC_LEN_MAX] = {0};
   \        0x6   0x4668             MOV      R0,SP
   \        0x8   0x2180             MOVS     R1,#+128
   \        0xA   0x....'....        BL       __aeabi_memclr4
    201              int i;
    202          
    203              for (i = 0; i < sizeof(awss_local_couple) / sizeof(awss_local_couple[0]); i ++) {
   \        0xE   0x2500             MOVS     R5,#+0
   \       0x10   0x....             LDR.N    R7,??DataTable8_1
   \       0x12   0xE019             B.N      ??awss_cmp_local_init_0
    204                  if ((awss_local_couple[i].init_stage & init_stage) == 0) {
   \                     ??awss_cmp_local_init_1: (+1)
   \       0x14   0x260C             MOVS     R6,#+12
   \       0x16   0xFB06 0xF005      MUL      R0,R6,R5
   \       0x1A   0x5838             LDR      R0,[R7, R0]
   \       0x1C   0x4220             TST      R0,R4
   \       0x1E   0xD012             BEQ.N    ??awss_cmp_local_init_2
    205                      continue;
    206                  }
    207                  memset(topic, 0, sizeof(topic));
   \       0x20   0x2200             MOVS     R2,#+0
   \       0x22   0x2180             MOVS     R1,#+128
   \       0x24   0x4668             MOV      R0,SP
   \       0x26   0x....'....        BL       __aeabi_memset4
    208                  awss_build_topic(awss_local_couple[i].topic, topic, TOPIC_LEN_MAX);
   \       0x2A   0x2280             MOVS     R2,#+128
   \       0x2C   0x4669             MOV      R1,SP
   \       0x2E   0xFB06 0xF005      MUL      R0,R6,R5
   \       0x32   0x4438             ADD      R0,R7,R0
   \       0x34   0x6840             LDR      R0,[R0, #+4]
   \       0x36   0x....'....        BL       awss_build_topic
    209                  awss_cmp_coap_register_cb(topic, awss_local_couple[i].cb);
   \       0x3A   0x436E             MULS     R6,R6,R5
   \       0x3C   0x19B8             ADDS     R0,R7,R6
   \       0x3E   0x6881             LDR      R1,[R0, #+8]
   \       0x40   0x4668             MOV      R0,SP
   \       0x42   0x....'....        BL       awss_cmp_coap_register_cb
    210              }
   \                     ??awss_cmp_local_init_2: (+1)
   \       0x46   0x1C6D             ADDS     R5,R5,#+1
   \                     ??awss_cmp_local_init_0: (+1)
   \       0x48   0x2D02             CMP      R5,#+2
   \       0x4A   0xD3E3             BCC.N    ??awss_cmp_local_init_1
    211          
    212              return 0;
   \       0x4C   0x2000             MOVS     R0,#+0
   \       0x4E   0xB021             ADD      SP,SP,#+132
   \       0x50   0xBDF0             POP      {R4-R7,PC}       ;; return
    213          }
    214          

   \                                 In section .text, align 2, keep-with-next
    215          int awss_cmp_local_deinit(int force)
    216          {
   \                     awss_cmp_local_deinit: (+1)
   \        0x0   0xB580             PUSH     {R7,LR}
    217              if (g_coap_ctx == NULL) {
   \        0x2   0x....             LDR.N    R1,??DataTable8
   \        0x4   0x6809             LDR      R1,[R1, #+0]
   \        0x6   0x2900             CMP      R1,#+0
   \        0x8   0xD003             BEQ.N    ??awss_cmp_local_deinit_0
    218                  return 0;
    219              }
    220          #ifdef WIFI_PROVISION_ENABLED
    221          #if defined(AWSS_SUPPORT_ADHA) || defined(AWSS_SUPPORT_AHA)
    222              awss_devinfo_notify_stop();
    223          #endif
    224              awss_suc_notify_stop();
    225          #endif
    226              if (force) {
   \        0xA   0x2800             CMP      R0,#+0
   \        0xC   0xD001             BEQ.N    ??awss_cmp_local_deinit_0
    227                  awss_cmp_coap_deinit();
   \        0xE   0x....'....        BL       awss_cmp_coap_deinit
    228              }
    229          
    230              return 0;
   \                     ??awss_cmp_local_deinit_0: (+1)
   \       0x12   0x2000             MOVS     R0,#+0
   \       0x14   0xBD02             POP      {R1,PC}          ;; return
    231          }

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8:
   \        0x0   0x....'....        DC32     g_coap_ctx

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable8_1:
   \        0x0   0x....'....        DC32     awss_local_couple

   \                                 In section .rodata, align 4
   \                     ?_0:
   \        0x0   0x2F 0x73          DC8 "/sys/device/info/get"
   \              0x79 0x73    
   \              0x2F 0x64    
   \              0x65 0x76    
   \              0x69 0x63    
   \              0x65 0x2F    
   \              0x69 0x6E    
   \              0x66 0x6F    
   \              0x2F 0x67    
   \              0x65 0x74    
   \              0x00         
   \       0x15   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .rodata, align 4
   \                     ?_1:
   \        0x0   0x2F 0x73          DC8 "/sys/%s/%s/device/info/get"
   \              0x79 0x73    
   \              0x2F 0x25    
   \              0x73 0x2F    
   \              0x25 0x73    
   \              0x2F 0x64    
   \              0x65 0x76    
   \              0x69 0x63    
   \              0x65 0x2F    
   \              0x69 0x6E    
   \              0x66 0x6F    
   \              0x2F 0x67    
   \              0x65 0x74    
   \              0x00         
   \       0x1B   0x00               DC8 0

   \                                 In section .rodata, align 4
   \        0x0   0x00 0x00          DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00         
   \       0x17   0x00 0x00          DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00         
   \       0x2E   0x00 0x00          DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00         
   \       0x45   0x00 0x00          DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00         
   \       0x5C   0x00 0x00          DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00         
   \       0x73   0x00 0x00          DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00 0x00    
   \              0x00         
    232          #if defined(__cplusplus)  /* If this is a C++ compiler, use C linkage */
    233          }
    234          #endif

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       0   awss_cmp_coap_cancel_packet
         0   -> CoAPMessageId_cancel
       8   awss_cmp_coap_deinit
         8   -> CoAPServer_deinit
      24   awss_cmp_coap_ob_send
        24   -> CoAPObsServer_notify
        24   -> CoAPServer_init
      16   awss_cmp_coap_register_cb
        16   -> CoAPServer_init
        16   -> CoAPServer_register
      40   awss_cmp_coap_send
        40   -> CoAPMessageId_cancel
        40   -> CoAPServerMultiCast_send
        40   -> CoAPServer_init
      48   awss_cmp_coap_send_resp
        48   -> CoAPServerResp_send
        48   -> CoAPServer_init
       0   awss_cmp_get_coap_code
       0   awss_cmp_get_coap_payload
       8   awss_cmp_local_deinit
         8   -> awss_cmp_coap_deinit
     152   awss_cmp_local_init
       152   -> __aeabi_memclr4
       152   -> __aeabi_memset4
       152   -> awss_build_topic
       152   -> awss_cmp_coap_register_cb
      32   awss_cpy_coap_ctx
        32   -> __aeabi_memcpy
        32   -> awss_cmp_get_coap_payload
        32   -> awss_release_coap_ctx
        32   -> os_zalloc
       8   awss_release_coap_ctx
         8   -> HAL_Free


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable8
       4  ??DataTable8_1
      24  ?_0
      28  ?_1
     128  ?_2
      22  awss_cmp_coap_cancel_packet
      22  awss_cmp_coap_deinit
      42  awss_cmp_coap_ob_send
      54  awss_cmp_coap_register_cb
      80  awss_cmp_coap_send
      74  awss_cmp_coap_send_resp
      12  awss_cmp_get_coap_code
      22  awss_cmp_get_coap_payload
      22  awss_cmp_local_deinit
      82  awss_cmp_local_init
     128  awss_cpy_coap_ctx
      24  awss_local_couple
      52  awss_release_coap_ctx
       4  g_coap_ctx

 
   4 bytes in section .bss
 204 bytes in section .rodata
 620 bytes in section .text
 
 620 bytes of CODE  memory
 204 bytes of CONST memory
   4 bytes of DATA  memory

Errors: none
Warnings: 1
